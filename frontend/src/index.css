@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Default light theme colors - will be overridden by ThemeProvider */
    --color-primary: #3b82f6;
    --color-secondary: #8b5cf6;
    --color-accent: #f59e0b;
    --color-background: #ffffff;
    --color-surface: #f9fafb;
    --color-text: #111827;
    --color-text-secondary: #6b7280;
    --color-border: #e5e7eb;
  }

  :root.dark {
    /* Default dark theme colors - will be overridden by ThemeProvider */
    --color-primary: #60a5fa;
    --color-secondary: #a78bfa;
    --color-accent: #fbbf24;
    --color-background: #0f172a;
    --color-surface: #1e293b;
    --color-text: #f1f5f9;
    --color-text-secondary: #94a3b8;
    --color-border: #334155;
  }

  /* ==========  SMOOTH THEME TRANSITIONS ========== */

  html {
    font-family: 'Inter', system-ui, sans-serif;
  }

  body {
    @apply antialiased;
    background-color: #f9fafb;
    color: #111827;
    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark body {
    background-color: #0f172a;
    color: #f1f5f9;
  }

  /* Smooth transitions for theme changes */
  :root.theme-transitioning,
  :root.theme-transitioning * {
    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                fill 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                stroke 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
    color: var(--color-text);
  }

  /* Ensure theme variables work everywhere */
  * {
    border-color: var(--color-border);
  }

  a {
    color: var(--color-primary);
  }

  a:hover {
    color: var(--color-secondary);
  }

  /* ========== CUSTOM SCROLLBAR STYLES ========== */

  /* Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: #cbd5e1 transparent;
  }

  .dark * {
    scrollbar-color: #475569 transparent;
  }

  /* Webkit browsers (Chrome, Safari, Edge) */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: #cbd5e1;
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: #94a3b8;
  }

  .dark *::-webkit-scrollbar-thumb {
    background-color: #475569;
  }

  .dark *::-webkit-scrollbar-thumb:hover {
    background-color: #64748b;
  }

  /* Specific scrollbar for sidebar navigation */
  nav::-webkit-scrollbar {
    width: 6px;
  }

  nav::-webkit-scrollbar-thumb {
    background-color: #d1d5db;
    border-radius: 3px;
  }

  nav::-webkit-scrollbar-thumb:hover {
    background-color: #9ca3af;
  }

  .dark nav::-webkit-scrollbar-thumb {
    background-color: #4b5563;
  }

  .dark nav::-webkit-scrollbar-thumb:hover {
    background-color: #6b7280;
  }
}

@layer components {
  /* ========== BUTTONS ========== */

  .btn-primary {
    @apply inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200;
    background-color: var(--color-primary);
  }

  .btn-primary:hover {
    filter: brightness(1.1);
  }

  .btn-primary:active {
    filter: brightness(0.9);
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3 border text-base font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200;
    border-color: var(--color-border);
    color: var(--color-text);
    background-color: var(--color-surface);
  }

  .btn-secondary:hover {
    background-color: var(--color-background);
    border-color: var(--color-primary);
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center px-6 py-3 text-base font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200;
    color: var(--color-text);
  }

  .btn-ghost:hover {
    background-color: var(--color-surface);
  }

  /* ========== INPUTS ========== */

  .input-field {
    @apply block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 sm:text-sm transition-all duration-200;
    border-color: var(--color-border);
    background-color: var(--color-background);
    color: var(--color-text);
  }

  .input-field::placeholder {
    color: var(--color-text-secondary);
  }

  .input-field:focus {
    border-color: var(--color-primary);
    ring-color: var(--color-primary);
  }

  /* ========== CARDS ========== */

  .card {
    @apply rounded-lg shadow-sm border p-6 transition-all duration-200;
    background-color: #ffffff;
    border-color: #e5e7eb;
  }

  .dark .card {
    background-color: #1e293b;
    border-color: #334155;
  }

  .card:hover {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  }

  /* ========== BADGES ========== */

  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors duration-200;
    background-color: var(--color-primary);
    color: white;
  }

  .badge-secondary {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors duration-200;
    background-color: var(--color-secondary);
    color: white;
  }

  .badge-outline {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border transition-colors duration-200;
    border-color: var(--color-border);
    color: var(--color-text);
  }

  /* ========== GRADIENTS ========== */

  .gradient-neural {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
  }

  .gradient-text {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ========== CUSTOM SCROLLBAR ========== */

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--color-border);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-text-secondary);
  }

  /* ========== DIVIDERS ========== */

  .divider {
    height: 1px;
    background-color: var(--color-border);
  }

  /* ========== NAVIGATION ========== */

  .nav-link {
    @apply px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200;
    color: var(--color-text);
  }

  .nav-link:hover {
    background-color: var(--color-surface);
    color: var(--color-primary);
  }

  .nav-link.active {
    background-color: var(--color-primary);
    color: white;
  }

  /* ========== THEME-AWARE UI ELEMENTS ========== */

  .avatar-gradient {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
  }

  .menu-active {
    background: linear-gradient(90deg,
      color-mix(in srgb, var(--color-primary) 10%, transparent) 0%,
      color-mix(in srgb, var(--color-primary) 15%, transparent) 100%
    );
    color: var(--color-primary);
  }

  .dark .menu-active {
    background: linear-gradient(90deg,
      color-mix(in srgb, var(--color-primary) 20%, transparent) 0%,
      color-mix(in srgb, var(--color-primary) 25%, transparent) 100%
    );
  }

  .menu-active-child {
    background-color: color-mix(in srgb, var(--color-primary) 10%, transparent);
    color: var(--color-primary);
    border-left-color: var(--color-primary);
  }

  .dark .menu-active-child {
    background-color: color-mix(in srgb, var(--color-primary) 15%, transparent);
  }

  .icon-active {
    color: var(--color-primary);
  }

  .link-hover:hover {
    color: var(--color-primary);
  }

  .active-indicator {
    background-color: var(--color-primary);
  }

  /* ========== ALERTS ========== */

  .alert {
    @apply p-4 rounded-lg border;
    background-color: var(--color-surface);
    border-color: var(--color-border);
    color: var(--color-text);
  }

  .alert-success {
    @apply p-4 rounded-lg border border-green-200 bg-green-50 text-green-800;
  }

  .dark .alert-success {
    @apply border-green-800 bg-green-950 text-green-200;
  }

  .alert-error {
    @apply p-4 rounded-lg border border-red-200 bg-red-50 text-red-800;
  }

  .dark .alert-error {
    @apply border-red-800 bg-red-950 text-red-200;
  }

  .alert-warning {
    @apply p-4 rounded-lg border border-yellow-200 bg-yellow-50 text-yellow-800;
  }

  .dark .alert-warning {
    @apply border-yellow-800 bg-yellow-950 text-yellow-200;
  }

  .alert-info {
    @apply p-4 rounded-lg border border-blue-200 bg-blue-50 text-blue-800;
  }

  .dark .alert-info {
    @apply border-blue-800 bg-blue-950 text-blue-200;
  }
}

@layer utilities {
  .text-shadow-sm {
    text-shadow: 0 1px 2px rgb(0 0 0 / 0.05);
  }

  .text-shadow {
    text-shadow: 0 1px 3px rgb(0 0 0 / 0.1);
  }

  .text-shadow-lg {
    text-shadow: 0 4px 8px rgb(0 0 0 / 0.15);
  }

  .animation-delay-150 {
    animation-delay: 150ms;
  }

  .animation-delay-300 {
    animation-delay: 300ms;
  }

  .animation-delay-500 {
    animation-delay: 500ms;
  }
}
